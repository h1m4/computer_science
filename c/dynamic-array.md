## 개념

 - 일반적으로 C언어에서 배열의 경우 적절한 크기만큼 할당해 주어야 한다.
 - 원하는 만큼 메모리를 할당해서 사용하고자 한다면 동적 메모리 할당을 사용한다.
 - 동적 : 프로그램 실행 도중에
 - C언에어스는 malloc()함수를 사용하여 메모리 공간을 확보한다.
 - malloc() 함수는 메모리 할당에 성공하면 주소를 반환하고, 아니면 null을 반환한다.

 ```c
 malloc(할당하고자 하는 크기);
 ```

  - 동적 메모리 할당을 수행할 때마다 할당되는 포인터의 주소는 변칙적이다.
  - <stdlib.h>에 저장되어 있음

 ```c
 int main(void) {
 int *a = malloc(sizeof(int)); //4바이트
 printf("%d\n", a);
 a = malloc(sizeof(int));
 printf("%d\n", a);
 free(a);
 system("pause");
 return0;
 }
 ````
 - 동적 할당 변수는 <힙 영역>에 담긴다.
 - 코드 영역 : 소스코드, 데이터 영역 : 전역, 정적변수 스택영역 : 지역변수, 매개변수
 - c언어에서는 스택에 선언에 변수는 따로 메모리 해제를 해주지 않아도 되지만, 동적으로 할당된 변수는 반드시 free()함수를 통해 메모리 해제를 해주어야 한다.
 - 메모리 누수를 방지하는 것이 핵심역량!

## 동적으로 문자열 처리하기
 - 일괄적인 범위의 메모리를 모두 특정한 값으로 설치하기 위해서는 memset()을 사용한다.
 - `memset(포인터, 값, 크기);`
 - 한 바이트씩 값을 저장하므로 문자열 배열의 처리방식과 흡사하다.
 - <string.h> 라이브러리에 선언되어 있다.

 ```c

 int main(void){
 char *a = malloc(100); //100byte만큼 공간 할당
 memset(a, 'A', 100);
 for (int i = 0; i < 100; i++){
 printf("%c", a[i]);
 }
 system("pause");
 return0;
 }
```
## 동적 메모리 할당의 예제

 - 2차원 배열을 미리 만들어 놓지 않더라도, 효율적으로 배열을 생성할 수 있다.

```c

int main(void){
 int**p = (int**)malloc(sizeof(int*)**3); //1차원 포인트 3개(3행)
 랙 (int i = 0; i < 3 ; i++){
 *(p+i) = int(int*)malloc(sizeof(int*)**3);\
 }
for (int i = 0; i < 3 ; i++){
for (int j = 0; j < 3; j++) {
 *(*(p+i)+j) = i*3 +j;
}
for (int i = 0; i < 3 ; i++){
for (int j = 0; j < 3; j++) {
printf("%d", *(*(p+i)+j));
}
}
}
